<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./index.css">
	<title>Document</title>
</head>

<body>
	<div class="mainContainer">
		<div class="container">
			<span class="title">What platforms are you targeting?</span>
			<div class="appContainer">
				<div class="application">
					<div id="mobile" class="imageContainer">
						<img src="./images/mobile.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">Mobile Web</span>
				</div>

				<div class="application">
					<div id="computer" class="imageContainer">
						<img src="./images/computer.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">Desktop Web</span>
				</div>
			</div>

			<div class="appContainer">
				<div class="application">
					<div id="android" class="imageContainer">
						<img src="./images/android.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">Android App</span>
				</div>
				<div class="application">
					<div id="windows" class="imageContainer">
						<img src="./images/windows.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">Windows App</span>
				</div>
			</div>

			<div class="appContainer">
				<div class="application">
					<div id="ios" class="imageContainer">
						<img src="./images/apple.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">iOS App</span>
				</div>
				<div class="application">
					<div id="apple" class="imageContainer">
						<img src="./images/apple.svg" class="mobileImage" alt="mobile" />
					</div>
					<span class="mobileName">macOS App</span>
				</div>
			</div>

			<div class="buttonContainer">
				<span class="pageNumber">1/6</span>
				<button id="button" class="button">
					Next
				</button>
			</div>
		</div>
	</div>

	<script src="./price.js"></script>
	<script>
		const ids = Object.keys(platformPrices);
		const button = document.getElementById("button");

		const setButtonDisabled = () => {
			button.disabled = true;
			for (let i = 0; i < ids.length; i++) {
				const id = ids[i];
				const element = document.getElementById(id);
				if (element.classList.contains("active")) {
					button.disabled = false;
					break;
				}
			}
		};

		setButtonDisabled();
		for (let i = 0; i < ids.length; i++) {
			const id = ids[i];
			const element = document.getElementById(id);
			const active = localStorage.getItem(id);
			if (active === "true") {
				element.classList.add("active");
			}

			element.addEventListener("click", () => {
				element.classList.toggle("active");
				localStorage.setItem(id, element.classList.contains("active"));
				setButtonDisabled();
			});
		}

		button.addEventListener("click", () => {
			window.location.href = "source.html";
		});
	</script>

</body>

</html>