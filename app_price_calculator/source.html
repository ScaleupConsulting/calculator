<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel="stylesheet" href="./source.css">

</head>

<body>
	<div class="mainContainer">
		<div class="headerContainer">
			<a href="index.html">
				<img  src="./images/back.svg" class="back" alt="back" />
			</a>
			<div class="totalContainer">
				<span class="totalTitle">Estimate</span>
				<span id="total" class="total"></span>
			</div>
		</div>
		<div class="container">
			<div class="middleContainer">
			<span class="title">From how many sources do you need extract data(ETL)?</span>
				<div class="inputContainer">
					<input id="apiData" class="inputCheck" type="number" min="0" onfocus="this.value === '' && (this.value = '1')">
					<label for="apiData" class="label">API with clean data</label>
				</div>

				<div class="inputContainer">
					<input id="dynamicData" min="0" class="inputCheck" type="number" onfocus="this.value === '' && (this.value = '1')">
					<label for="dynamicData" class="label">Dynamic web pages</label>
				</div>

				<div class="inputContainer">
					<input id="protectionData" min="0" class="inputCheck" type="number" onfocus="this.value === '' && (this.value = '1')">
					<label for="protectionData" class="label">Dynamic web pages with bot protection</label>
				</div>
			</div>

			<div class="buttonContainer">
				<span class="pageNumber">2/6</span>
				<button class="button">
					<a href="payment.html">Next</a>
				</button>
			</div>
		</div>
	</div>
	<script src="price.js"></script>
	<script>
		const ids = Object.keys(sourcePrices);
		const button = document.querySelector('.button');		
		for (let i = 0; i < ids.length; i++) {
			const element = document.getElementById(ids[i]);
			element.addEventListener('input', (e) => {
				const value = e.target.value;
				if (value < 0) {
					e.target.value = 0;
				}
				localStorage.setItem(ids[i], value);
				showPrice();
			});
			element.addEventListener('focus', (e) => {
				const value = e.target.value;
				if (value === '') {
					e.target.value = '1';
				}
				// save value to local storage
				localStorage.setItem(ids[i], value);
				showPrice();	
				
			});
			element.value = localStorage.getItem(ids[i]);
		}

		showPrice();
	</script>
</body>
</html>