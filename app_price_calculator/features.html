<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./source.css">
    <title>Document</title>
</head>

<body>
    <div class="mainContainer">
        <div class="headerContainer">
            <a href="payment.html">
                <img src="./images/back.svg" class="back" alt="back" />
            </a>
            <div class="totalContainer">
                <span class="totalTitle">Estimate</span>
                <span id="total" class="total"></span>
            </div>
        </div>
        <div class="container">
            <div class="middleContainer">
                <span class="title">Any realtime features?</span>
                <div class="paymentInputContainer">
                    <input id="Instant" class="checkbox" type="checkbox">
                    <label for="Instant" class="label">Instant messaging</label>
                </div>

                <div class="paymentInputContainer">
                    <input id="chat" class="checkbox" type="checkbox">
                    <label for="chat" class="label">Live Charts</label>
                </div>
            </div>
            <div class="buttonContainer">
                <span class="pageNumber">4/6</span>
                <a href="map.html">Next</a>
            </div>
        </div>
    </div>

    <script src="price.js"></script>
    <script>
        const ids = Object.keys(featurePrices);
        for (let i = 0; i < ids.length; i++) {
            const id = ids[i];
            const element = document.getElementById(ids[i]);
            element.addEventListener("input", () => {
                if (element.checked) {
                    localStorage.setItem(id, element.checked);
                    showPrice();

                } else {
                    localStorage.setItem(id, element.checked);
                    showPrice();

                }
            });


            // when the page is loaded, check if the item is in the local storage
            if (localStorage.getItem(id) === "true") {
                element.checked = true;
            }
        }
        showPrice();
    </script>
</body>

</html>